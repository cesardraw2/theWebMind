<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class Normalizer</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class Normalizer</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalizes the data structure.</p>
<p class="description"><p>Normalizes the data structure.
 Will normalize the data and entities structure applying rules and patterns. Thanks for Edgar F. Codd for all he created and wondered for the Relational Model</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Felipe Nascimento de Moura &lt;<a href="mailto:felipenmoura@gmail.com">felipenmoura@gmail.com</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_analyst---Normalizer.php.html">/analyst/Normalizer.php</a> (line <span class="field"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a26">26</a></span>)
		</p>
		
				
		<pre><a href="../../Cortex/Analyst/Normal.html">Normal</a>
   |
   --Normalizer</pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
												<div class="var-title">
					static <span class="var-type">mixed</span>
					<a href="#$tmpEntities" title="details" class="var-name">$tmpEntities</a>
				</div>
																<div class="var-title">
					static <span class="var-type">mixed</span>
					<a href="#$tmpRelations" title="details" class="var-name">$tmpRelations</a>
				</div>
																															</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
												<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#addFks" title="details" class="method-name">addFks</a>
										()
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#addPks" title="details" class="method-name">addPks</a>
										()
									</div>
																<div class="method-definition">
					static 						<span class="method-result">MindEntity</span>
										<a href="#createNByNEntity" title="details" class="method-name">&amp;createNByNEntity</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">&$rel</span>, <span class="var-type">MindRelation</span>&nbsp;<span class="var-name">$rel</span>)
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#createNbyNRelations" title="details" class="method-name">createNbyNRelations</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">&$left</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$center</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$right</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$rel</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$left</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$center</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$right</span>, <span class="var-type">MindRelation</span>&nbsp;<span class="var-name">$rel</span>)
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#fixNByNRel" title="details" class="method-name">fixNByNRel</a>
										()
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#fixOneByOneRel" title="details" class="method-name">fixOneByOneRel</a>
										()
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#normalize" title="details" class="method-name">normalize</a>
										()
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#redirectRelations" title="details" class="method-name">redirectRelations</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">&$from</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$to</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$from</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$to</span>)
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#reset" title="details" class="method-name">reset</a>
										()
									</div>
																<div class="method-definition">
					static 						<span class="method-result">void</span>
										<a href="#setUpKeys" title="details" class="method-name">setUpKeys</a>
										()
									</div>
								
																																																																																				</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$tmpEntities" id="$tmpEntities"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			static <span class="var-type">mixed</span>
			<span class="var-name">$tmpEntities</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a28">28</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$tmpRelations" id="$tmpRelations"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			static <span class="var-type">mixed</span>
			<span class="var-name">$tmpRelations</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a29">29</a></span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
							<h4>Inherited Variables</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../../Cortex/Analyst/Normal.html">Normal</a></span></p>
					<blockquote>
													<span class="var-title">
								<span class="var-name"><a href="../../Cortex/Analyst/Normal.html#var$focus">Normal::$focus</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../../Cortex/Analyst/Normal.html#var$nByN">Normal::$nByN</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../../Cortex/Analyst/Normal.html#var$oneByN">Normal::$oneByN</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../../Cortex/Analyst/Normal.html#var$oneByOne">Normal::$oneByOne</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../../Cortex/Analyst/Normal.html#var$predicate">Normal::$predicate</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodaddFks" id="addFks"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method addFks</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a190">190</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds all the foreign keys to all the entities that may need it.</p>
<p class="description"><p>Adds all the foreign keys to all the entities that may need it.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			addFks
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodaddPks" id="addPks"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method addPks</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a219">219</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds all the primary keys the entities will need.</p>
<p class="description"><p>Adds all the primary keys the entities will need.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			addPks
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodcreateNByNEntity" id="createNByNEntity"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method createNByNEntity</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a116">116</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates an extra entity to link multiple relations.</p>
<p class="description"><p>Creates an extra entity to link multiple relations.
 Creates the entity to be used as a link between the other two entities due to an N:N relation</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">MindEntity</span>
		<span class="method-name">
			&amp;createNByNEntity
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">&$rel</span>, <span class="var-type">MindRelation</span>&nbsp;<span class="var-name">$rel</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">MindRelation</span>
				<span class="var-name">$rel</span>			</li>
					<li>
				<span class="var-type">MindRelation</span>
				<span class="var-name">&$rel</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreateNbyNRelations" id="createNbyNRelations"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method createNbyNRelations</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a150">150</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Create all the relations needed to fix n:n relations.</p>
<p class="description"><p>Create all the relations needed to fix n:n relations.
 It takes the $left and $right entities and set the $center to reffer to it. The $rel parameter is used to identifies characteristics from an original relation, like linkVerb or linkType.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			createNbyNRelations
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">&$left</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$center</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$right</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$rel</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$left</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$center</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$right</span>, <span class="var-type">MindRelation</span>&nbsp;<span class="var-name">$rel</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">$left</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">$center</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">$right</span>			</li>
					<li>
				<span class="var-type">MindRelation</span>
				<span class="var-name">$rel</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">&$left</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">&$center</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">&$right</span>			</li>
					<li>
				<span class="var-type">MindRelation</span>
				<span class="var-name">&$rel</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfixNByNRel" id="fixNByNRel"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method fixNByNRel</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a168">168</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Fixes all the n:n relations</p>
<p class="description"><p>Fixes all the n:n relations</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			fixNByNRel
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodfixOneByOneRel" id="fixOneByOneRel"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method fixOneByOneRel</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a64">64</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Fixes the 1:1 relations, normalizing them</p>
<p class="description"><p>Fixes the 1:1 relations, normalizing them</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			fixOneByOneRel
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodnormalize" id="normalize"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method normalize</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a300">300</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Normalizes the known structure.</p>
<p class="description"><p>Normalizes the known structure.
 It will apply the n:n and 1:1 rules, plus setting the foreign and primary keys to all the entities. Please, notice that there are rules to be followed here, such as:<pre>    1:1 to 1:1 relations will always merge entities
    0:1 to 0:1 relations will always try to identify the less
               important and set it to point to the other entity
               setting its foreign key as a primary key
    0:1 to 1:1 will decide if it should wether merge or fix the
               relation. It will decide it using the following
               parameters of decision:
               - number of properties: as many, less mergeable
               - number of relations:  as less reffered,
                                       more mergeable
               - big properties:       as many big properties,
                                       less mergeable
    n:n        relations will generate an extra entity, altough,
               if the entity with that name already exists, it
               takes the existing one.
               If the antity ONLY has keys, no pk will be added.</pre></p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			normalize
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodredirectRelations" id="redirectRelations"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method redirectRelations</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a40">40</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Redirects all the relations between entities.</p>
<p class="description"><p>Redirects all the relations between entities.
 Redirects all the relations that point to, or are pointed by the $from entity, to the $to entity.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			redirectRelations
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">&$from</span>, <span class="var-type"></span>&nbsp;<span class="var-name">&$to</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$from</span>, <span class="var-type">MindEntity</span>&nbsp;<span class="var-name">$to</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">$from</span><span class="var-description">: Entity which will lose its references</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">$to</span><span class="var-description">: Entity which will be reffered instead</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">&$from</span>			</li>
					<li>
				<span class="var-type">MindEntity</span>
				<span class="var-name">&$to</span>			</li>
				</ul>
		
			
	</div>
<a name="methodreset" id="reset"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method reset</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a261">261</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Clears static properties setting them to their default value.</p>
<p class="description"><p>Clears static properties setting them to their default value. Quite useful when used through a command line single session.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			reset
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodsetUpKeys" id="setUpKeys"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method setUpKeys</span> (line <span class="line-number"><a href="../../__filesource/fsource_Cortex_Analyst_analystNormalizer.php.html#a247">247</a></span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Will set the primary and foreign keys to entities.</p>
<p class="description"><p>Will set the primary and foreign keys to entities.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">void</span>
		<span class="method-name">
			setUpKeys
		</span>
				()
			</div>
	
		
			
	</div>

							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../../Cortex/Analyst/Normal.html">Normal</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../../Cortex/Analyst/Normal.html#methodfixOneByOneRelation">Normal::fixOneByOneRelation()</a></span><br>
													<span class="method-name"><a href="../../Cortex/Analyst/Normal.html#methodhasBigProperties">Normal::hasBigProperties()</a></span><br>
													<span class="method-name"><a href="../../Cortex/Analyst/Normal.html#methodmergeEntities">Normal::mergeEntities()</a></span><br>
													<span class="method-name"><a href="../../Cortex/Analyst/Normal.html#methodmergeProperties">Normal::mergeProperties()</a></span><br>
													<span class="method-name"><a href="../../Cortex/Analyst/Normal.html#methodrelevanceAmount">Normal::relevanceAmount()</a></span><br>
													<span class="method-name"><a href="../../Cortex/Analyst/Normal.html#methodseparateByRelationQuantifiers">Normal::separateByRelationQuantifiers()</a></span><br>
													<span class="method-name"><a href="../../Cortex/Analyst/Normal.html#methodsetByRelevance">Normal::setByRelevance()</a></span><br>
											</blockquote>
										
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Tue, 08 Mar 2011 01:41:23 -0300 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>